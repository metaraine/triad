(function(){angular.module("triad",[])}).call(this),function(){angular.module("triad").controller("TriadAppCtrl",["$scope","PIXI","TrianglePerson","$timeout",function(t,e,n,i){var r;return t.pixiRender=function(){var t,e,n,i;for(i=[],e=0,n=r.length;n>e;e++)t=r[e],t.animate(),i.push(t.face(0,0));return i},t.stage=new e.Stage(6750105),t.config={numPeople:35,personSize:20,velocity:.5},r=[],i(function(){var e,i,o,a,s;return r=function(){var r,u,h;for(h=[],e=r=1,u=t.config.numPeople;u>=1?u>=r:r>=u;e=u>=1?++r:--r)a=Math.random()*t.parentSize.width,s=Math.random()*t.parentSize.height,o=t.config.personSize,i=new n(a,s,o),i.vx=Math.random()*t.config.velocity-t.config.velocity/2,i.vy=Math.random()*t.config.velocity-t.config.velocity/2,t.stage.addChild(i),h.push(i);return h}()})}])}.call(this),function(){angular.module("triad").directive("pixi",["$parse",function(t){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","$timeout","PIXI",function(e,n,i,r,o){var a,s,u,h,c,l,f,d;return c=this,u=null,this.start=function(){var t;return t=function(){return c.render(),requestAnimFrame(t)},this.setRenderer(),i.$observe("width",this.resize),i.$observe("height",this.resize),requestAnimFrame(t)},this.setRenderer=function(){switch(h){case"canvas":return u=new o.CanvasRenderer(n[0].width,n[0].height,n[0],d);case"webgl":return u=new o.WebGLRenderer(n[0].width,n[0].height,n[0],d,a);default:return u=o.autoDetectRenderer(n[0].width,n[0].height,n[0],a,d)}},this.render=function(){return s(l,u),u.render(l)},this.getStage=function(){return l},this.getRenderer=function(){return u},this.getContext=function(){return u.gl?u.gl:u.context},this.resize=function(){return u.resize(i.width,i.height)},f=t(i.pixi),l=f(e),s=e.$eval(i.pixiRender),a=e.$eval(i.pixiAntialias||"false"),d=e.$eval(i.pixiTransparent||"false"),h=e.$eval(i.pixiRenderer||"auto"),l||(l=new o.Stage(e.$eval(i.pixiBackground||"0")),f.assign(e,l)),r(this.start.bind(this))}]}}])}.call(this),function(){angular.module("triad").directive("resize",["$window",function(t){return function(e,n){var i,r;return i=function(){return{width:n.parent()[0].offsetWidth,height:n.parent()[0].offsetHeight}},e.$watch(i,function(t){return e.parentSize=t},!0),r=angular.element(t),r.bind("resize",function(){return e.$apply()})}}])}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};angular.module("triad").factory("TrianglePerson",function(){var t;return t=function(t){function n(t,e,i,r){n.__super__.constructor.call(this),this.beginFill(6724095),this.moveTo(0,-i/2),this.lineTo(i/2,i/2),this.lineTo(-i/2,i/2),this.lineTo(0,-i/2),this.endFill(),this.position.x=t||0,this.position.y=e||0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.rotation=r||0}return e(n,t),n.prototype.animate=function(){return this.x+=this.vx,this.y+=this.vy,this.vx+=this.ax,this.vy+=this.ay},n.prototype.face=function(t,e){return this.rotation=Math.atan((this.position.y-e)/(this.position.x-t))-Math.PI/2},n}(PIXI.Graphics)})}.call(this),function(){angular.module("triad").factory("PIXI",function(){return PIXI})}.call(this);