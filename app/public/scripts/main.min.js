(function(){angular.module("triad",[])}).call(this),function(){angular.module("triad").controller("TriadAppCtrl",["$scope","PIXI","TrianglePerson","$timeout","_",function(t,e,n,r,i){var o;return t.pixiRender=function(){var t,e,n,r;for(r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(t.animate());return r},t.stage=new e.Stage(6750105),t.config={numPeople:3,personSize:20,velocity:.5},o=[],r(function(){var e,r,a,s,u,h,c,l,f;for(o=function(){var r,i,o;for(o=[],e=r=1,i=t.config.numPeople;i>=1?i>=r:r>=i;e=i>=1?++r:--r)u=Math.random()*t.parentSize.width,h=Math.random()*t.parentSize.height,s=t.config.personSize,a=new n(u,h,s),t.stage.addChild(a),o.push(a);return o}(),f=[],c=0,l=o.length;l>c;c++)a=o[c],r=o.filter(function(t){return t!==a}),f.push(a.targets=[i.sample(r),i.sample(r)]);return f})}])}.call(this),function(){angular.module("triad").directive("pixi",["$parse",function(t){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","$timeout","PIXI",function(e,n,r,i,o){var a,s,u,h,c,l,f,d;return c=this,u=null,this.start=function(){var t;return t=function(){return c.render(),requestAnimFrame(t)},this.setRenderer(),r.$observe("width",this.resize),r.$observe("height",this.resize),requestAnimFrame(t)},this.setRenderer=function(){switch(h){case"canvas":return u=new o.CanvasRenderer(n[0].width,n[0].height,n[0],d);case"webgl":return u=new o.WebGLRenderer(n[0].width,n[0].height,n[0],d,a);default:return u=o.autoDetectRenderer(n[0].width,n[0].height,n[0],a,d)}},this.render=function(){return s(l,u),u.render(l)},this.getStage=function(){return l},this.getRenderer=function(){return u},this.getContext=function(){return u.gl?u.gl:u.context},this.resize=function(){return u.resize(r.width,r.height)},f=t(r.pixi),l=f(e),s=e.$eval(r.pixiRender),a=e.$eval(r.pixiAntialias||"false"),d=e.$eval(r.pixiTransparent||"false"),h=e.$eval(r.pixiRenderer||"auto"),l||(l=new o.Stage(e.$eval(r.pixiBackground||"0")),f.assign(e,l)),i(this.start.bind(this))}]}}])}.call(this),function(){angular.module("triad").directive("resize",["$window",function(t){return function(e,n){var r,i;return r=function(){return{width:n.parent()[0].offsetWidth,height:n.parent()[0].offsetHeight}},e.$watch(r,function(t){return e.parentSize=t},!0),i=angular.element(t),i.bind("resize",function(){return e.$apply()})}}])}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};angular.module("triad").factory("TrianglePerson",function(){var t;return t=function(t){function n(t,e,r,i){n.__super__.constructor.call(this),this.beginFill(6724095),this.moveTo(0,-r/2),this.lineTo(r/3,r/2),this.lineTo(-r/3,r/2),this.lineTo(0,-r/2),this.endFill(),this.position.x=t||0,this.position.y=e||0,this.vx=0,this.vy=0,this.rotation=i||0}var r;return e(n,t),r=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},n.prototype.animate=function(){var t;return this.x+=this.vx,this.y+=this.vy,this.targets&&2===this.targets.length?(t=r(this.targets[0],this.targets[1]),this.face(t.x,t.y)):void 0},n.prototype.face=function(t,e){return this.rotation=-Math.atan((this.position.y-e)/(this.position.x-t))-Math.PI/2},n}(PIXI.Graphics)})}.call(this),function(){angular.module("triad").factory("PIXI",function(){return window.PIXI})}.call(this),function(){angular.module("triad").factory("_",function(){return window._})}.call(this);